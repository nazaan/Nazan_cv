<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic CV Viewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        /* Custom styles for professional look */
        .cv-section {
            border-bottom: 2px solid #e0e7ff; /* Light blue separator */
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
        }
        .cv-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .job-title {
            color: #1e40af; /* Darker blue for emphasis */
        }
    </style>
</head>
<body>

    <div class="max-w-4xl mx-auto p-6 lg:p-10 bg-white shadow-xl rounded-xl mt-6 mb-6" id="cv-container">
        <!-- CV content will be rendered here by JavaScript -->
        <div id="loading-message" class="text-center text-gray-500 py-20">Loading CV data...</div>
    </div>

    <script>
        // Use a perfectly formatted JSON string here. 
        // IMPORTANT: All keys and string values must be double-quoted.
        const cvDataJsonString = `{
            "personal": {
                "name": "Alexandria Hayes",
                "title": "Senior Software Architect",
                "email": "alexandria.hayes@example.com",
                "phone": "+1 (555) 123-4567",
                "linkedin": "linkedin.com/in/alexandriahayes",
                "summary": "Highly accomplished and results-driven Senior Software Architect with 15+ years of experience leading complex, large-scale cloud migration and microservices projects. Expert in Node.js, Python, and modern DevOps practices."
            },
            "experience": [
                {
                    "title": "Senior Software Architect",
                    "company": "Tech Innovators Corp.",
                    "duration": "2018 - Present",
                    "location": "San Francisco, CA",
                    "description": [
                        "Led the architecture and deployment of a multi-region, high-availability microservices platform, supporting 10M+ daily active users.",
                        "Mentored a team of 12 engineers on best practices for serverless computing and infrastructure-as-code (Terraform).",
                        "Reduced cloud infrastructure costs by 30% through targeted optimization of database queries and resource provisioning."
                    ]
                },
                {
                    "title": "Software Development Lead",
                    "company": "Digital Solutions Inc.",
                    "duration": "2012 - 2018",
                    "location": "Seattle, WA",
                    "description": [
                        "Designed and implemented the core API for the company's flagship product using Node.js and PostgreSQL.",
                        "Managed a full-stack team responsible for product delivery from conception to release.",
                        "Implemented continuous integration/continuous delivery (CI/CD) pipelines, cutting deployment time by 80%."
                    ]
                }
            ],
            "education": [
                {
                    "degree": "M.S. in Computer Science",
                    "institution": "Stanford University",
                    "year": "2012"
                },
                {
                    "degree": "B.S. in Software Engineering",
                    "institution": "University of Washington",
                    "year": "2010"
                }
            ],
            "skills": {
                "Languages": ["Node.js", "Python", "TypeScript", "Go"],
                "Databases": ["PostgreSQL", "MongoDB", "Redis"],
                "Cloud & DevOps": ["AWS", "Kubernetes", "Docker", "Terraform", "Gitlab CI"]
            }
        }`;

        /**
         * Converts the plain JSON data into HTML elements and renders the CV.
         */
        function loadCV() {
            const container = document.getElementById('cv-container');
            let data;

            try {
                // Safely parse the JSON string into a JavaScript object
                data = JSON.parse(cvDataJsonString);
                document.getElementById('loading-message').remove();
            } catch (e) {
                // This is the robust error handling you need!
                console.error("JSON Parsing Error:", e);
                container.innerHTML = `
                    <div class="text-center p-8 bg-red-100 border border-red-400 text-red-700 rounded-lg">
                        <h2 class="text-xl font-bold mb-2">Error: Could Not Load CV Data</h2>
                        <p>The JSON data string contains a syntax error. Please inspect the <code>cvDataJsonString</code> variable carefully.</p>
                        <p class="mt-2 text-sm italic">Details: ${e.message}</p>
                    </div>
                `;
                return;
            }

            // --- 1. RENDER PERSONAL INFO ---
            const personalHtml = `
                <header class="text-center mb-8 pb-4 border-b-4 border-indigo-600">
                    <h1 class="text-4xl font-extrabold text-gray-900">${data.personal.name}</h1>
                    <p class="text-xl font-semibold text-indigo-700 mt-1">${data.personal.title}</p>
                    <div class="flex flex-wrap justify-center text-sm text-gray-600 mt-3 space-x-4">
                        <span><svg class="w-4 h-4 inline-block mr-1 text-indigo-500" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/></svg>${data.personal.email}</span>
                        <span><svg class="w-4 h-4 inline-block mr-1 text-indigo-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7 2a2 2 0 00-2 2v12a2 2 0 002 2h6a2 2 0 002-2V4a2 2 0 00-2-2H7zm3 14a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/></svg>${data.personal.phone}</span>
                        <span><svg class="w-4 h-4 inline-block mr-1 text-indigo-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 2a8 8 0 100 16 8 8 0 000-16zm-5 8a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z" clip-rule="evenodd"/></svg><a href="https://${data.personal.linkedin}" target="_blank" class="hover:text-indigo-800">${data.personal.linkedin}</a></span>
                    </div>
                    <p class="text-gray-700 mt-4 max-w-3xl mx-auto italic">${data.personal.summary}</p>
                </header>
            `;

            // --- 2. RENDER EXPERIENCE ---
            let experienceHtml = '<section class="cv-section">';
            experienceHtml += '<h2 class="text-2xl font-bold text-gray-800 mb-4 border-l-4 border-indigo-500 pl-3">Experience</h2>';
            data.experience.forEach(job => {
                experienceHtml += `
                    <div class="mb-4 p-4 border border-gray-100 rounded-lg bg-gray-50 hover:bg-white transition duration-150">
                        <div class="flex justify-between items-start">
                            <h3 class="text-lg font-bold job-title">${job.title} at ${job.company}</h3>
                            <span class="text-sm font-medium text-gray-500">${job.duration}</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">${job.location}</p>
                        <ul class="list-disc ml-6 text-gray-700 space-y-1 text-sm">
                            ${job.description.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                `;
            });
            experienceHtml += '</section>';

            // --- 3. RENDER EDUCATION ---
            let educationHtml = '<section class="cv-section">';
            educationHtml += '<h2 class="text-2xl font-bold text-gray-800 mb-4 border-l-4 border-indigo-500 pl-3">Education</h2>';
            data.education.forEach(edu => {
                educationHtml += `
                    <div class="flex justify-between mb-2">
                        <div>
                            <p class="font-semibold text-gray-800">${edu.degree}</p>
                            <p class="text-sm text-gray-600">${edu.institution}</p>
                        </div>
                        <span class="text-sm font-medium text-gray-500">${edu.year}</span>
                    </div>
                `;
            });
            educationHtml += '</section>';

            // --- 4. RENDER SKILLS ---
            let skillsHtml = '<section>';
            skillsHtml += '<h2 class="text-2xl font-bold text-gray-800 mb-4 border-l-4 border-indigo-500 pl-3">Skills & Expertise</h2>';
            skillsHtml += '<div class="grid grid-cols-1 sm:grid-cols-3 gap-6">';

            for (const category in data.skills) {
                skillsHtml += `
                    <div class="p-3 bg-white border border-gray-200 rounded-lg shadow-sm">
                        <h4 class="font-semibold text-indigo-600 mb-1">${category}</h4>
                        <p class="text-sm text-gray-700">${data.skills[category].join(' | ')}</p>
                    </div>
                `;
            }

            skillsHtml += '</div></section>';

            // Combine and render all HTML
            container.innerHTML = personalHtml + experienceHtml + educationHtml + skillsHtml;
        }

        // Initialize the CV renderer when the page loads
        window.onload = loadCV;
    </script>

</body>
</html>